<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Living Room</title>
    <link rel="stylesheet" href="living-room-3-styles.css">
    <audio id="background-audio" loop>
        <source src="Fear & Hunger 2_ Termina OST - Ashes Of War.mp4" type="audio/mpeg">
    </audio>

    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            background-color: #121212;
            color: #FFFFFF;
        }

        .black-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 2em;
            z-index: 1000;
            opacity: 1;
            transition: opacity 1s ease-out;
        }

        .hidden {
            opacity: 0;
            pointer-events: none;
        }

        .container {
            position: relative;
            height: 100%;
            width: 100%;
        }

        .image-text-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('images/MVP Images/Final Images/LivingRoomOFF-2.png') no-repeat center center/cover;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 1s ease-in;
            background-size: cover;
        }

        .text-container {
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            color: #FFFFFF;
            max-width: 1000px;
            width: 100%;
            transition: opacity 1s ease-in;
            opacity: 1;
        }

        .choices {
            margin-top: 20px;
            opacity: 1;
            transition: opacity 1s ease-in;
        }

        .toggle-button {
            position: absolute;
            bottom: 20px;
            left: 20px;
            padding: 10px 20px;
            font-size: 1rem;
            background-color: #121212;
            color: #FFFFFF;
            border: 2px solid #FFFFFF;
            cursor: pointer;
            z-index: 1001;
            opacity: 0;
            transition: opacity 1s ease-in;
        }

        .toggle-button:hover {
            background-color: #1f1f1f;
        }

        button {
            padding: 10px 20px;
            font-size: 1rem;
            background-color: #121212;
            color: #FFFFFF;
            border: 2px solid #FFFFFF;
            cursor: pointer;
        }

        button:hover {
            background-color: #1f1f1f;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const texts = ["Just...come home in one piece. Please?", "I will, I promise. I'll be back in no time", "I'll hold on to that promise. Of all the better days ahead.", "I love you."];
            const typedText = document.getElementById('typedText');
            const blackScreen = document.getElementById('blackScreen');
            const toggleButton = document.getElementById('toggleButton');
            const imageTextContainer = document.getElementById('imageTextContainer');
            const textContainer = document.getElementById('textContainer');
            const choices = document.getElementById('choices');
            let currentText = 0;
            let currentChar = 0;

            function type() {
                if (currentChar < texts[currentText].length) {
                    typedText.innerHTML += texts[currentText].charAt(currentChar);
                    currentChar++;
                    setTimeout(type, 100);
                } else {
                    setTimeout(() => {
                        typedText.classList.add('text-hidden');
                        currentChar = 0;
                        currentText++;
                        if (currentText < texts.length) {
                            setTimeout(() => {
                                typedText.innerHTML = '';
                                typedText.classList.remove('text-hidden');
                                type();
                            }, 1000);
                        } else {
                            setTimeout(() => {
                                blackScreen.classList.add('hidden');
                                imageTextContainer.style.opacity = '1';
                                textContainer.style.opacity = '1';
                                choices.style.opacity = '1';
                                toggleButton.style.opacity = '1';
                                document.body.style.overflow = 'auto';  // Allow scrolling again
                            }, 1000);
                        }
                    }, 1000);
                }
            }

            toggleButton.addEventListener('click', () => {
                const isHidden = textContainer.style.opacity === '0';
                textContainer.style.opacity = isHidden ? '1' : '0';
                choices.style.opacity = isHidden ? '1' : '0';
            });

            type();
        });
    </script>
</head>
<body>
    <div class="black-screen" id="blackScreen">
        <div id="typedText"></div>
    </div>
    <div class="container">
        <div class="image-text-container" id="imageTextContainer">
            <div class="text-container" id="textContainer">
                <p class="first-paragraphs">
                    As you scramble up the stairs, the living room greets you in unsettling darkness, the sparse light that once offered comfort now swallowed by encroaching shadows. Every corner seems to stretch out towards you, menacing and insidious. The clock on the wall mocks you, its hands frozen perpetually at "12:30," offering no solace or clarity on the passage of time. Even the familiar contours of the couch appear warped, less inviting than moments before. 
                </p>
                <p class="second-paragraphs">
                    You're certain now. That creature, distorted and grotesque, bore a twisted resemblance to her. You've read about veterans seeing twisted versions of loved ones after service, but experiencing it firsthand shakes you to the core. It must be her influence, driving these hallucinations. This relentless pursuit won't cease until you confront her.
                </p>
                <p class="third-paragraphs">
                    It's because of her. This won't end until I confront her. She's left me no choice.
                </p>
            </div>
            <div class="choices" id="choices">
                <button class="kitchen">Kitchen</button>
                <button class="basement">Basement</button>
                <button class="upstairs" onclick="window.location.href='upstairs-hallway.html'">Upstairs</button>
            </div>
        </div>
        <button class="toggle-button" id="toggleButton">Toggle Text</button>
    </div>
</body>
</html>
