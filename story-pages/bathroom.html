<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bathroom</title>
    <link rel="stylesheet" href="bathroom.css">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }

        .black-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 2em;
            z-index: 1000;
            opacity: 1;
            transition: opacity 1s ease-out;
        }

        .hidden {
            opacity: 0;
            pointer-events: none;
        }

        .text-fade {
            opacity: 1;
            transition: opacity 1s ease-out;
        }

        .text-hidden {
            opacity: 0;
        }
    </style>
</head>
<body>
    <div class="black-screen" id="blackScreen">
        <div id="typedText"></div>
    </div>
    <div class="top-container"></div>
    <div class="image-text-container">
        <img class="bathroom-image" src="images/Bathroom2.png">

        <p class="first-paragraphs">
            You stagger into the cramped, grimy bathroom, clutching your face. Blood seeps through the makeshift bandage you've wrapped around your eye, and the pain is excruciating. The bathroom reeks of mildew and neglect, the tiles beneath you cold and cracked. The mirror above the sink is cracked, but you catch a glimpse of your reflection â€” wild eyes, bloodstained clothes.
        </p>
        <p class="second-paragraphs">
            You search through the medicine cabinet, feeling around the prescription bottles until you find that familiar bottle of painkillers, Your hands shake with rage as you pop a few - that should help take the edge off. But you've already made up your mind.
        </p>  
        <p class="third-paragraphs">
            Fucking sick of this shit. You don't just get to walk away this time.
        </p>

    </div>

    <div class="choices">
        <button onclick="window.location.href='living-room.html'">Exit Bathroom</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const texts = ["What is this?", "Where am I?", "What happened?"];
            const typedText = document.getElementById('typedText');
            const blackScreen = document.getElementById('blackScreen');
            let currentText = 0;
            let currentChar = 0;

            function type() {
                if (currentChar < texts[currentText].length) {
                    typedText.innerHTML += texts[currentText].charAt(currentChar);
                    currentChar++;
                    setTimeout(type, 100);
                } else {
                    setTimeout(() => {
                        typedText.classList.add('text-hidden');
                        currentChar = 0;
                        currentText++;
                        if (currentText < texts.length) {
                            setTimeout(() => {
                                typedText.innerHTML = '';
                                typedText.classList.remove('text-hidden');
                                type();
                            }, 1000);
                        } else {
                            setTimeout(() => {
                                blackScreen.classList.add('hidden');
                                document.body.style.overflow = 'auto';  // Allow scrolling again
                            }, 1000);
                        }
                    }, 1000);
                }
            }

            type();
        });
    </script>
</body>
</html>
